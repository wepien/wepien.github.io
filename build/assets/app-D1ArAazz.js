var E=function(){function e(t){this.parent=t}return e.prototype.setMessageText=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","message:text",[t]])},e.prototype.send=function(t,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:send",[t,n]])},e.prototype.sendText=function(t){this.send("text",t)},e.prototype.sendFile=function(t){this.send("file",t)},e.prototype.sendAnimation=function(t){this.send("animation",t)},e.prototype.sendAudio=function(t){this.send("audio",t)},e.prototype.show=function(t,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:show",[t,n]])},e.prototype.showText=function(t){this.show("text",t)},e.prototype.showFile=function(t){this.show("file",t)},e.prototype.showAnimation=function(t){this.show("animation",t)},e.prototype.showAudio=function(t){this.show("audio",t)},e.prototype.showPicker=function(t){this.show("picker",t)},e.prototype.showField=function(t){this.show("field",t)},e.prototype.showCarousel=function(t){this.show("carousel",t)},e.prototype.markAsRead=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:read"])},e.prototype.startThread=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:start",[t]])},e.prototype.endThread=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:end",[t]])},e.prototype.onMessageSent=function(t){this.parent.createSingletonIfNecessary(),this.offMessageSent(),window.$crisp.push(["on","message:sent",t])},e.prototype.offMessageSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:sent"])},e.prototype.onMessageReceived=function(t){this.parent.createSingletonIfNecessary(),this.offMessageReceived(),window.$crisp.push(["on","message:received",t])},e.prototype.offMessageReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:received"])},e.prototype.onMessageComposeSent=function(t){this.parent.createSingletonIfNecessary(),this.offMessageComposeSent(),window.$crisp.push(["on","message:compose:sent",t])},e.prototype.offMessageComposeSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:sent"])},e.prototype.onMessageComposeReceived=function(t){this.parent.createSingletonIfNecessary(),this.offMessageComposeReceived(),window.$crisp.push(["on","message:compose:received",t])},e.prototype.offMessageComposeReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:received"])},e}(),L=function(){function e(t){this.parent=t}return e.prototype.setNickname=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:nickname",[t]])},e.prototype.setEmail=function(t,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:email",[t,n]])},e.prototype.setPhone=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:phone",[t]])},e.prototype.setAvatar=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:avatar",[t]])},e.prototype.setCompany=function(t,n){var s={};n&&(n.url&&(s.url=n.url),n.description&&(s.description=n.description),n.employment&&(s.employment=[n.employment.title],n.employment.role&&s.employment.push(n.employment.role))),this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:company",[t,s]])},e.prototype.getEmail=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:email"):null},e.prototype.getPhone=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:phone"):null},e.prototype.getNickname=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:nickname"):null},e.prototype.getAvatar=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:avatar"):null},e.prototype.getCompany=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:company"):null},e.prototype.onEmailChanged=function(t){this.parent.isCrispInjected()&&(this.offEmailChanged(),window.$crisp.push(["on","user:email:changed",t]))},e.prototype.offEmailChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:email:changed"])},e.prototype.onPhoneChanged=function(t){this.parent.isCrispInjected()&&(this.offPhoneChanged(),window.$crisp.push(["on","user:phone:changed",t]))},e.prototype.offPhoneChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:phone:changed"])},e.prototype.onNicknameChanged=function(t){this.parent.isCrispInjected()&&(this.offNicknameChanged(),window.$crisp.push(["on","user:nickname:changed",t]))},e.prototype.offNicknameChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:nickname:changed"])},e.prototype.onAvatarChanged=function(t){this.parent.isCrispInjected()&&(this.offAvatarChanged(),window.$crisp.push(["on","user:avatar:changed",t]))},e.prototype.offAvatarChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:avatar:changed"])},e}(),x=function(){function e(t){this.parent=t}return e.prototype.run=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","trigger:run",[t]])},e}(),I;(function(e){e.Red="red",e.Orange="orange",e.Yellow="yellow",e.Green="green",e.Blue="blue",e.Purple="purple",e.Pink="pink",e.Brown="brown",e.Grey="grey",e.Black="black"})(I||(I={}));var j=function(){function e(t){this.parent=t}return e.prototype.reset=function(t){t===void 0&&(t=!1),this.parent.isCrispInjected()&&window.$crisp.push(["do","session:reset",[t]])},e.prototype.setSegments=function(t,n){this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:segments",[t,n]])},e.prototype.setData=function(t){var n=this,s=[];Object.entries(t).forEach(function(d){n.isValidDataValue(d[0])&&s.push([d[0],d[1]])}),this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:data",[s]])},e.prototype.pushEvent=function(t,n,s){n===void 0&&(n={}),s===void 0&&(s=I.Blue),this.parent.isCrispInjected()&&window.$crisp.push(["set","session:event",[[[t,n,s]]]])},e.prototype.getData=function(t){if(this.parent.isCrispInjected())return window.$crisp.get("session:data",t)},e.prototype.getIdentifier=function(){return this.parent.isCrispInjected()?window.$crisp.get("session:identifier"):null},e.prototype.onLoaded=function(t){this.parent.createSingletonIfNecessary(),this.offLoaded(),window.$crisp.push(["on","session:loaded",t])},e.prototype.offLoaded=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","session:loaded"])},e.prototype.isValidDataValue=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"},e}(),_=function(){function e(t){this.parent=t}return e.prototype.show=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:show"])},e.prototype.hide=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:hide"])},e.prototype.open=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:open"])},e.prototype.close=function(){this.parent.isCrispInjected()&&window.$crisp.push(["do","chat:close"])},e.prototype.setHelpdeskView=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:search"])},e.prototype.openHelpdeskArticle=function(t,n,s,d){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:article:open",[t,n,s,d]])},e.prototype.queryHelpdesk=function(t){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:query",[t]])},e.prototype.unreadCount=function(){return this.parent.isCrispInjected()?window.$crisp.get("chat:unread:count"):0},e.prototype.isChatOpened=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:opened"):!1},e.prototype.isVisible=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:visible"):!1},e.prototype.onChatInitiated=function(t){this.parent.createSingletonIfNecessary(),this.offChatInitiated(),window.$crisp.push(["on","chat:initiated",t])},e.prototype.offChatInitiated=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:initiated"])},e.prototype.onChatOpened=function(t){this.parent.createSingletonIfNecessary(),this.offChatOpened(),window.$crisp.push(["on","chat:opened",t])},e.prototype.offChatOpened=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:opened"])},e.prototype.onChatClosed=function(t){this.parent.createSingletonIfNecessary(),this.offChatClosed(),window.$crisp.push(["on","chat:closed",t])},e.prototype.offChatClosed=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:closed"])},e.prototype.onHelpdeskQueried=function(t){this.parent.createSingletonIfNecessary(),this.offHelpdeskQueried(),window.$crisp.push(["on","helpdesk:queried",t])},e.prototype.offHelpdeskQueried=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","helpdesk:queried"])},e}(),$;(function(e){e.Default="default",e.Amber="amber",e.Black="black",e.Blue="blue",e.BlueGrey="blue_grey",e.LightBlue="light_blue",e.Brown="brown",e.Cyan="cyan",e.Green="green",e.LightGreen="light_green",e.Grey="grey",e.Indigo="indigo",e.Orange="orange",e.DeepOrange="deep_orange",e.Pink="pink",e.Purple="purple",e.DeepPurple="deep_purple",e.Red="red",e.Teal="teal"})($||($={}));var S;(function(e){e.Left="left",e.Right="right"})(S||(S={}));var M=function(){function e(){this.clientUrl="https://client.asanchat.xyz/l.js",this.websiteId="",this.autoload=!0,this.injected=!1,this.chat=new _(this),this.session=new j(this),this.user=new L(this),this.message=new E(this),this.trigger=new x(this)}return e.prototype.configure=function(t,n){n===void 0&&(n={}),this.websiteId=t,this.tokenId=n.tokenId,this.locale=n.locale,this.sessionMerge=n.sessionMerge,this.cookieDomain=n.cookieDomain,this.cookieExpire=n.cookieExpire,this.lockFullview=n.lockFullview,this.lockMaximized=n.lockMaximized,this.safeMode=n.safeMode,n.clientUrl!==void 0&&(this.clientUrl=n.clientUrl),n.autoload!==void 0&&(this.autoload=n.autoload),this.autoload&&this.load()},e.prototype.load=function(){var t=document.getElementsByTagName("head");if(this.createSingletonIfNecessary(),this.isCrispInjected()!==!0){if(!this.websiteId)throw new Error("websiteId must be set before loading Crisp");if(window.CRISP_WEBSITE_ID=this.websiteId,window.CRISP_RUNTIME_CONFIG={},this.tokenId&&(window.CRISP_TOKEN_ID=this.tokenId),this.sessionMerge&&(window.CRISP_RUNTIME_CONFIG.session_merge=!0),this.locale&&(window.CRISP_RUNTIME_CONFIG.locale=this.locale),this.lockFullview&&(window.CRISP_RUNTIME_CONFIG.lock_full_view=!0),this.lockMaximized&&(window.CRISP_RUNTIME_CONFIG.lock_maximized=!0),this.cookieDomain&&(window.CRISP_COOKIE_DOMAIN=this.cookieDomain),this.cookieExpire&&(window.CRISP_COOKIE_EXPIRE=this.cookieExpire),!t||!t[0])return this.deferredLoading();this.safeMode===!0&&this.setSafeMode(!0);var n=document.createElement("script");n.src=this.clientUrl,n.async=!0,t[0].appendChild(n),this.injected=!0}},e.prototype.setTokenId=function(t){this.tokenId=t,this.isCrispInjected()===!0&&(t?window.CRISP_TOKEN_ID=t:delete window.CRISP_TOKEN_ID)},e.prototype.setZIndex=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","container:index",[t]])},e.prototype.setColorTheme=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","color:theme",[t]])},e.prototype.setHideOnAway=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:away",[t]])},e.prototype.setHideOnMobile=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:mobile",[t]])},e.prototype.setPosition=function(t){this.createSingletonIfNecessary(),$crisp.push(["config","position:reverse",[t===S.Left]])},e.prototype.setAvailabilityTooltip=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","availability:tooltip",[t]])},e.prototype.setVacationMode=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:vacation",[t]])},e.prototype.setSafeMode=function(t){t===void 0&&(t=!0),this.createSingletonIfNecessary(),window.$crisp.push(["safe",t])},e.prototype.muteSound=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","sound:mute",[t]])},e.prototype.toggleOperatorCount=function(t){this.createSingletonIfNecessary(),window.$crisp.push(["config","show:operator:count",[t]])},e.prototype.onWebsiteAvailabilityChanged=function(t){this.createSingletonIfNecessary(),this.offWebsiteAvailabilityChanged(),window.$crisp.push(["on","website:availability:changed",t])},e.prototype.offWebsiteAvailabilityChanged=function(){this.createSingletonIfNecessary(),window.$crisp.push(["off","website:availability:changed"])},e.prototype.createSingletonIfNecessary=function(){window.$crisp===void 0&&(window.$crisp=[])},e.prototype.autoInjectIfNecessary=function(){this.isCrispInjected()||this.load()},e.prototype.isCrispInjected=function(){return!!(this.injected===!0||window.$crisp&&window.$crisp.is)},e.prototype.deferredLoading=function(){var t=this;document.addEventListener("DOMContentLoaded",function(){t.load()})},e}(),r=new M;const c=document.getElementById("navbar-menu");[...c.querySelectorAll("a")].forEach(function(e){e.ariaCurrent!=="page"&&(e.addEventListener("mouseover",function(){e.querySelector(".absolute").classList.remove("opacity-0")}),e.addEventListener("mouseleave",function(){e.querySelector(".absolute").classList.add("opacity-0")}))});const m=document.getElementById("navbar-menu-toggler");m.addEventListener("click",function(){m.disabled=!0,c.classList.contains("max-xl:hidden")?(c.classList.remove("max-xl:hidden"),c.classList.add("max-xl:h-0","max-xl:overflow-hidden","max-xl:transition-[height]","max-xl:duration-300"),c.style.height="0",setTimeout(function(){c.classList.remove("max-xl:h-0","max-xl:overflow-hidden","max-xl:transition-[height]","max-xl:duration-300"),c.style.height=""},300),c.style.height=`${c.scrollHeight}px`):(c.style.height=`${c.getBoundingClientRect().height}px`,c.offsetHeight,c.classList.add("max-xl:h-0","max-xl:overflow-hidden","max-xl:transition-[height]","max-xl:duration-300"),c.style.height="",setTimeout(function(){c.classList.remove("max-xl:h-0","max-xl:overflow-hidden","max-xl:transition-[height]","max-xl:duration-300"),c.classList.add("max-xl:hidden")},300)),m.disabled=!1});const C=document.getElementById("banner");C instanceof Element&&C.addEventListener("mousemove",function(e){const t=-1*e.pageX/180,n=-1*e.pageY/180;["banner-object-1","banner-object-2","banner-object-3","banner-object-4"].forEach(function(d){const f=document.getElementById(d);f instanceof window.Element&&(f.style.transform="translate3d("+t+"px, "+n+"px,0)")})});const T="9ee6e6e0-acf4-40cc-9876-9540172ecbaf";{let e=function(a){return a.replace(new RegExp("\\p{N}","gu"),i=>{const o=i.codePointAt(0);return o>=1632&&o<=1641?(o-1632).toString():o>=1776&&o<=1785?(o-1776).toString():o>=2406&&o<=2415?(o-2406).toString():(o>=48&&o<=57,i)})},t=function(){g.innerText=""},n=function(){N.classList.remove("hidden"),h.classList.add("ease-out","duration-300"),h.classList.replace("opacity-0","opacity-100"),p.classList.add("ease-out","duration-300"),p.classList.replace("opacity-0","opacity-100"),p.classList.replace("translate-y-4","translate-y-0"),p.classList.remove("sm:translate-y-0"),p.classList.replace("sm:scale-95","sm:scale-100"),setTimeout(()=>{h.classList.remove("ease-out","duration-300"),p.classList.remove("ease-out","duration-300")},300)},s=function(){p.classList.add("ease-in","duration-200"),p.classList.replace("opacity-100","opacity-0"),p.classList.replace("translate-y-0","translate-y-4"),p.classList.add("sm:translate-y-0"),p.classList.replace("sm:scale-100","sm:scale-95"),h.classList.add("ease-in","duration-200"),h.classList.replace("opacity-100","opacity-0"),setTimeout(()=>{y.value="",t(),p.classList.remove("ease-in","duration-200"),h.classList.remove("ease-in","duration-200"),N.classList.add("hidden")},300)},d=function(){u.classList.replace("bg-green-600","bg-green-700"),u.querySelector("span").classList.remove("hidden"),u.querySelector("svg").classList.add("hidden"),u.disabled=!1},f=function(){setTimeout(function(){const a=document.getElementById("crisp-chatbox");if(a&&a.dir==="ltr"){a.dir="rtl";const i=document.createElement("link");i.href="https://client.asanchat.xyz/static/stylesheets/chat_default.css?70aefbe=",i.type="text/css",i.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(i)}},1200)};const N=document.getElementById("phone-number-modal"),h=document.getElementById("phone-number-backdrop"),b=document.getElementById("phone-number-layout"),p=document.getElementById("phone-number-panel"),v=document.getElementById("phone-number-form"),y=document.getElementById("phone-number-input"),g=document.getElementById("phone-number-error"),u=v.querySelector('button[type="submit"]');let l=!1,w=()=>{};const k=localStorage.getItem("crisp_token_id");r.configure(T,{clientUrl:"https://client.asanchat.xyz/l.js",tokenId:k,locale:"fa",safeMode:!0}),r.setZIndex(35),r.chat.onChatOpened(()=>{r.user.getPhone()||n(),f()}),b.addEventListener("click",function(a){l||a.target===b&&(r.chat.close(),s(),w=()=>{})}),y.addEventListener("input",t),y.addEventListener("keydown",a=>{a.key==="Enter"&&(a.preventDefault(),u.click())}),v.addEventListener("submit",function(a){a.preventDefault(),l=!0;let i=y.value;i=e(i),i=i.replace(/[^0-9]/g,""),i.startsWith("0")||(i=`0${i}`),u.disabled=!0,u.querySelector("svg").classList.remove("hidden"),u.querySelector("span").classList.add("hidden"),u.classList.replace("bg-green-700","bg-green-600"),fetch("https://asanvpn.com/api/crisp/tokens",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({phone_number:i})}).then(o=>o.json()).then(o=>{o.id?(r.chat.isChatOpened()&&r.chat.close(),localStorage.setItem("crisp_token_id",o.id),r.setTokenId(o.id),r.session.reset(),r.setZIndex(35),r.chat.onChatOpened(()=>{f()}),r.session.onLoaded(function(){setTimeout(function(){r.user.setPhone(i.replace("0","+98")),setTimeout(function(){r.chat.open(),setTimeout(function(){s(),w(),l=!1},1500)},1e3)},500)})):(l=!1,g.innerText=o.message,d())}).catch(()=>{l=!1,g.innerText="خطایی در ارسال اطلاعات رخ داد.",d()})}),[...document.querySelectorAll('[data-order-channel="online-chat"]')].forEach(a=>{a.addEventListener("click",()=>{function i(){r.message.sendText("طرح "+a.dataset.planId+" را انتخاب کردم.")}r.user.getPhone()?(r.chat.open(),i()):(n(),w=i)})}),[...document.querySelectorAll('[data-toggle="online-chat"]')].forEach(a=>{a.addEventListener("click",()=>{r.chat.open()})})}
